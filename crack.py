import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24yCiNjb2Rpbmc9dXRmLTgKCgppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sdXJsbGliLGNvb2tpZWxpYixyZXF1ZXN0cyxtZWNoYW5pemUKZnJvbSBtdWx0aXByb2Nlc3NpbmcucG9vbCBpbXBvcnQgVGhyZWFkUG9vbApmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgpmcm9tIG1lY2hhbml6ZSBpbXBvcnQgQnJvd3NlcgoKCnJlbG9hZChzeXMpCnN5cy5zZXRkZWZhdWx0ZW5jb2RpbmcoJ3V0ZjgnKQpiciA9IG1lY2hhbml6ZS5Ccm93c2VyKCkKYnIuc2V0X2hhbmRsZV9yb2JvdHMoRmFsc2UpCmJyLnNldF9oYW5kbGVfcmVmcmVzaChtZWNoYW5pemUuX2h0dHAuSFRUUFJlZnJlc2hQcm9jZXNzb3IoKSxtYXhfdGltZT0xKQpici5hZGRoZWFkZXJzID0gWygnVXNlci1BZ2VudCcsICdPcGVyYS85LjgwIChBbmRyb2lkOyBPcGVyYSBNaW5pLzMyLjAuMjI1NC84NS4gVTsgaWQpIFByZXN0by8yLjEyLjQyMyBWZXJzaW9uLzEyLjE2JyldCgpkZWYga2VsdWFyKCk6CglwcmludCAiXDAzM1sxOzkxbVshXSBceDFiWzE7OTFtRXhpdCIKCW9zLnN5cy5leGl0KCkKCgpkZWYgYWNhayhiKToKICAgIHcgPSAnYWh0ZHpqYycKICAgIGQgPSAnJwogICAgZm9yIGkgaW4geDoKICAgICAgICBkICs9ICchJyt3W3JhbmRvbS5yYW5kaW50KDAsbGVuKHcpLTEpXStpCiAgICByZXR1cm4gY2V0YWsoZCkKCgpkZWYgY2V0YWsoYik6CiAgICB3ID0gJ2FodGR6amMnCiAgICBmb3IgaSBpbiB3OgogICAgICAgIGogPSB3LmluZGV4KGkpCiAgICAgICAgeD0geC5yZXBsYWNlKCchJXMnJWksJ1wwMzNbJXM7MW0nJXN0cigzMStqKSkKICAgIHggKz0gJ1wwMzNbMG0nCiAgICB4ID0geC5yZXBsYWNlKCchMCcsJ1wwMzNbMG0nKQogICAgc3lzLnN0ZG91dC53cml0ZSh4KydcbicpCgoKZGVmIGphbGFuKHopOgoJZm9yIGUgaW4geiArICdcbic6CgkJc3lzLnN0ZG91dC53cml0ZShlKQoJCXN5cy5zdGRvdXQuZmx1c2goKQoJCXRpbWUuc2xlZXAoMDAwMDAuMSkKCgojIyMjIyBMT0dPICMjIyMjCmxvZ28gPSAiIiIKXDAzM1sxOzMxbSBfX19fX19fX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fClwwMzNbMTszMW0gXF8gICBfX18gXCAgX19fX19fXyAgX19fX18gICAgIF9fX18gIHwgIHwgX18KXDAzM1sxOzMxbSAgLyAgICBcIFwvIFxfICBfXyAgXCBcX18gIFwgIF8vIF9fX1wgfCAgfC8gLwpcMDMzWzE7MzdtICBcICAgICBcX19fXyB8ICB8IFwvIC8gX18gXF8gXCAgXF9fXyB8ICAgIDwKXDAzM1sxOzM3bSAgIFxfX19fX18gIC8gfF9ffCAgIChfX19fICAvICBcX19fICA+fF9ffF8gXFwKXDAzM1sxOzM3bSAgICAgICAgICBcLyAgICAgICAgICAgICAgXC8gICAgICAgXC8gICAgICBcLwpcMDMzWzE7MzRt4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAClwwMzNbMTszMW0oXDAzM1sxOzM3beKAolwwMzNbMTszMW0pIFwwMzNbMTszM21BdXRob3IgICBcMDMzWzE7MzFtOiBcMDMzWzE7MzdtWkFNVUVMLU1YClwwMzNbMTszMW0oXDAzM1sxOzM3beKAolwwMzNbMTszMW0pIFwwMzNbMTszM21HaXRodWIgICBcMDMzWzE7MzFtOiBcMDMzWzE7MzdtR2l0aHViLmNvbS9aQU1VRUwtTVgKXDAzM1sxOzMxbShcMDMzWzE7Mzdt4oCiXDAzM1sxOzMxbSkgXDAzM1sxOzMzbUZhY2Vib29rIFwwMzNbMTszMW06IFwwMzNbMTszN21GYWNlYm9vay5jb20vemFtdWVsLmdhbnMKXDAzM1sxOzM0beKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIiIgoKZGVmIHRpaygpOgoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJceDFiWzE7OTNtUGxlYXNlIFdhaXQgXHgxYlsxOzkzbSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAwMDAwLjEpCgoKYmFjayA9IDAKYmVyaGFzaWwgPSBbXQpjZWtwb2ludCA9IFtdCm9rcyA9IFtdCmlkID0gW10KbGlzdGdydXAgPSBbXQp2dWxub3QgPSAiXDAzM1szMW1Ob3QgVnVsbiIKdnVsbiA9ICJcMDMzWzMybVZ1bG4iCgpvcy5zeXN0ZW0oImNsZWFyIikKcHJpbnQgIiIiClwwMzNbMTs5MW0gX19fX19fICBfX18gIF9fXyAgX19fIF8gICBfICBfX19fXyAgXwpcMDMzWzE7OTFtfF9fXyAgLyAvIF8gXCB8ICBcLyAgfHwgfCB8IHx8ICBfX198fCB8ClwwMzNbMTs5MW0gICAvIC8gLyAvX1wgXHwgLiAgLiB8fCB8IHwgfHwgfF9fICB8IHwKXDAzM1sxOzM3bSAgLyAvICB8ICBfICB8fCB8XC98IHx8IHwgfCB8fCAgX198IHwgfApcMDMzWzE7MzdtIC8gL19fX3wgfCB8IHx8IHwgIHwgfHwgfF98IHx8IHxfX18gfCB8X19fXwpcMDMzWzE7MzdtXCBfX19fL1xffCB8Xy9cX3wgIHxfLyBcX19fLyBcX19fXy8gXF9fX19fLwpcMDMzWzE7MzRt4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAClwwMzNbMTszMW0oXDAzM1sxOzM3beKAolwwMzNbMTszMW0pIFwwMzNbMTszM21BdXRob3IgICBcMDMzWzE7MzFtOiBcMDMzWzE7MzdtWkFNVUVMLU1YClwwMzNbMTszMW0oXDAzM1sxOzM3beKAolwwMzNbMTszMW0pIFwwMzNbMTszM21HaXRodWIgICBcMDMzWzE7MzFtOiBcMDMzWzE7MzdtR2l0aHViLmNvbS9aQU1VRUwtTVgKXDAzM1sxOzMxbShcMDMzWzE7Mzdt4oCiXDAzM1sxOzMxbSkgXDAzM1sxOzMzbUZhY2Vib29rIFwwMzNbMTszMW06IFwwMzNbMTszN21GYWNlYm9vay5jb20vemFtdWVsLmdhbnMKXDAzM1sxOzM0beKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIiIgoKQ29ycmVjdFVzZXJuYW1lID0gInptbCIKQ29ycmVjdFBhc3N3b3JkID0gInptbCIKCmxvb3AgPSAndHJ1ZScKd2hpbGUgKGxvb3AgPT0gJ3RydWUnKToKICAgIHVzZXJuYW1lID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtKOKAoikgXDAzM1sxOzkzbVVzZXJuYW1lIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQogICAgaWYgKHVzZXJuYW1lID09IENvcnJlY3RVc2VybmFtZSk6CiAgICAJcGFzc3dvcmQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW0o4oCiKSBcMDMzWzE7OTNtUGFzc3dvcmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCiAgICAgICAgaWYgKHBhc3N3b3JkID09IENvcnJlY3RQYXNzd29yZCk6CiAgICAgICAgICAgIHByaW50ICJMb2dpbiBTdWNjZXMgIiArIHVzZXJuYW1lCiAgICAgICAgICAgIGxvb3AgPSAnZmFsc2UnCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQgIlBhc3N3b3JkIFNhbGFoIEdvYmxvayIKCSAgICBwcmludCAiU2lsYWhrYW4gQ2FyaSBkaSBHaXRodWIiCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9naXRodWIuY29tL3phbXh5ei9jcmFjaycpCiAgICBlbHNlOgogICAgICAgIHByaW50ICJVc2VybmFtZSBTYWxhaCBOZ2VudG9kIgoJcHJpbnQgIlNpbGFoa2FuIENhcmkgRGkgR2l0aHViIgogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9naXRodWIuY29tL3phbXh5ei9jcmFjaycpCgpkZWYgbG9naW4oKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgamFsYW4oIlwwMzNbMTs5MW1MT0dJTiBBQ0NFU1MgVE9LRU4gRkFDRUJPT0sgISEhIikKICAgIHByaW50IAogICAgdG9rZXQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW0oXDAzM1sxOzk3bT9cMDMzWzE7OTFtKVwwMzNbMTs5M21Ub2tlbiBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKICAgIHRyeToKICAgICAgICBvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpCiAgICAgICAgYSA9IGpzb24ubG9hZHMob3R3LnRleHQpCiAgICAgICAgbmFtYSA9IGFbJ25hbWUnXQogICAgICAgIHplZGQgPSBvcGVuKCdsb2dpbi50eHQnLCAndycpCiAgICAgICAgemVkZC53cml0ZSh0b2tldCkKICAgICAgICB6ZWRkLmNsb3NlKCkKICAgICAgICBwcmludCAnXDAzM1sxOzkxbShcMDMzWzE7OTJtIVwwMzNbMTs5MW0pXDAzM1sxOzkybSBMb2dpbiBCZXJoYXNpbCBUb2QgISAnCglvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vZ2l0aHViLmNvbS96YW14eXonKQogICAgbG9naW4oKQogICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgIHByaW50ICJcMDMzWzE7OTNtKFwwMzNbMTs5MW0hXDAzM1sxOzkzbSkgXDAzM1sxOzkxbVRva2VuIHNhbGFoICEiCgl0aW1lLnNsZWVwKDEuNykKCWxvZ2luKCkKICAgICAgICAKZGVmIG1lbnUoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IlwwMzNbMTs5M21bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW90dyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJbmFtYSA9IGFbJ25hbWUnXQoJCWlkID0gYVsnaWQnXQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IlwwMzNbMTs5M21bIV0gXDAzM1sxOzkxbUl0IHNlZW1zIHRoYXQgeW91ciBhY2NvdW50IGhhcyBhIGNoZWNrcG9pbnQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5M21bIV0gXHgxYlsxOzkxbVRoZXJlIGlzIG5vIGludGVybmV0IGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCQlwZXJiYXJ1aSgpCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludCBsb2dvCglqYWxhbiAoIlwwMzNbMDszN20oXDAzM1swOzMxbeKAolwwMzNbMDszN20pXDAzM1swOzMzbSBOYW1hIEFrdW5cMDMzWzE7OTFtICAgICA6XDAzM1sxOzM3bSAiK25hbWEpCglqYWxhbiAoIlwwMzNbMDszN20oXDAzM1swOzMxbeKAolwwMzNbMDszN20pXDAzM1swOzMzbSBVc2VyIElEXDAzM1sxOzkxbSAgICAgICA6XDAzM1sxOzM3bSAiK2lkKQoJamFsYW4gKCJcMDMzWzA7MzdtKFwwMzNbMDszMW3igKJcMDMzWzA7MzdtKVwwMzNbMDszM20gVGFuZ2dhbCBMYWhpclwwMzNbMTs5MW0gOlwwMzNbMTszN20gIisgYVsnYmlydGhkYXknXSkKCXByaW50ICJcMDMzWzE7MzNt4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIgoJcHJpbnQgIlwwMzNbMTszMW0oXDAzM1sxOzM3bTFcMDMzWzE7MzFtKVwwMzNbMTszM20gTXVsYWkgQ3JhY2siCglwcmludCAiXDAzM1sxOzMxbShcMDMzWzE7MzFtMFwwMzNbMTszMW0pXDAzM1sxOzMxbSBMb2dvdXQiCglwcmludCAiXDAzM1sxOzMzbeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIKCXBpbGloKCkKCgpkZWYgcGlsaWgoKToKCXVuaWtlcnMgPSByYXdfaW5wdXQoIlwwMzNbMTszM21QaWxpaCBcMDMzWzE7MzFtOlwwMzNbMTszN20gIikKCWlmIHVuaWtlcnMgPT0iIjoKCQlwcmludCAiXDAzM1sxOzk3bShcMDMzWzE7OTFtIVwwMzNbMTs5N20pXDAzM1sxOzkxbSBJc2kgWWcgQmVuYXIgVG9sb2wgISEiCgkJcGlsaWgoKQoJZWxpZiB1bmlrZXJzID09IjEiOgoJCXN1cGVyKCkKCWVsaWYgdW5pa2VycyA9PSIwIjoKCQlqYWxhbignVG9rZW4gUmVtb3ZlZCcpCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQlrZWx1YXIoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzk3bShcMDMzWzE7OTFtIVwwMzNbMTs5N20pXDAzM1sxOzkzbSBJc2kgWWcgQmVuYXIgU2F5YW5nICEiCgkJcGlsaWgoKQoKCmRlZiBzdXBlcigpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTszMW0oXDAzM1sxOzM3bTAxXDAzM1sxOzMxbSlcMDMzWzE7MzdtLlwwMzNbMTszM20gQ3JhY2sgSUQgRGFyaSBEYWZ0YXIgVGVtYW4iCglwcmludCAiXDAzM1sxOzMxbShcMDMzWzE7MzdtMDJcMDMzWzE7MzFtKVwwMzNbMTszN20uXDAzM1sxOzMzbSBDcmFjayBJRCBQdWJsaWsiCglwcmludCAiXDAzM1sxOzMxbShcMDMzWzE7MzdtMDNcMDMzWzE7MzFtKVwwMzNbMTszN20uXDAzM1sxOzMzbSBDcmFjayBBa3VuIFRhcmdldCIKCXByaW50ICJcMDMzWzE7MzFtKFwwMzNbMTszN20wMFwwMzNbMTszMW0pXDAzM1sxOzM3bS5cMDMzWzE7MzFtIEtlbWJhbGkiCglwcmludCAiXDAzM1sxOzMzbeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIKCXBpbGloX3N1cGVyKCkKCmRlZiBwaWxpaF9zdXBlcigpOgoJcGVhayA9IHJhd19pbnB1dCgiXDAzM1sxOzMzbVBpbGloIFwwMzNbMTszMW06XDAzM1sxOzM3bSAiKQoJaWYgcGVhayA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtKFwwMzNbMTs5N20hXDAzM1sxOzkxbSlcMDMzWzE7OTFtIElzaSBZZyBCZW5hciBUb2xvbCAhIgoJCXBpbGloX3N1cGVyKCkKCWVsaWYgcGVhayA9PSIxIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQKCQlqYWxhbignXDAzM1sxOzkxbShcMDMzWzE7Mzdt4oCiXDAzM1sxOzMxbSkgXDAzM1sxOzkybUdldHRpbmcgSUQgXDAzM1sxOzkybS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIHMgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoc1snaWQnXSkKCWVsaWYgcGVhayA9PSIyIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7MzFtKFwwMzNbMTszN23igKJcMDMzWzE7MzFtKSBcMDMzWzE7OTNtRW50ZXIgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCgkJdHJ5OgoJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbShcMDMzWzE7OTdt4oCiXDAzM1sxOzkzbSlcMDMzWzE7OTNtIE5hbWEgICAgIFwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIFx4MWJbMTs5MW1JRCBOb3QgRm91bmQhIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzk3bShcMDMzWzE7OTNtQmFja1wwMzNbMTs5N21dIikKCQkJc3VwZXIoKQoJCWphbGFuKCdcMDMzWzE7OTFtKFwwMzNbMTs5N23igKJcMDMzWzE7OTFtKVwwMzNbMTs5M20gR2V0dGluZyBJRCBcMDMzWzE7OTNtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWZvciBpIGluIHpbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKGlbJ2lkJ10pCgllbGlmIHBlYWsgPT0iMyI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCWJydXRlKCkJCgllbGlmIHBlYWsgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtKFwwMzNbMTs5MW3igKJcMDMzWzE7OTcpIFx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9zdXBlcigpCgkKCXByaW50ICJcMDMzWzE7MzFtKFwwMzNbMTszN23igKJcMDMzWzE7OTFtKSBcMDMzWzE7MzNtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihpZCkpCglqYWxhbignXDAzM1sxOzMxbXtcMDMzWzE7Mzdt4oCiXDAzM1sxOzkxbSkgXDAzM1sxOzMzbVN0YXJ0aW5nIFwwMzNbMTs5M20uLi4nKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTFtKFwwMzNbMTs5N23igKJcMDMzWzE6OTFtKSBcMDMzWzE7OTNtQ3JhY2tpbmcuLi4uLiBcMDMzWzE7OTdtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCXByaW50ICJcMDMzWzE7MzNt4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIgoJcHJpbnQKCWRlZiBtYWluKGFyZyk6CgkJZ2xvYmFsIGNla3BvaW50LG9rcwoJCXVzZXIgPSBhcmcKCQl0cnk6CgkJCW9zLm1rZGlyKCdvdXQnKQoJCWV4Y2VwdCBPU0Vycm9yOgoJCQlwYXNzCgkJdHJ5OgoJCQl4ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKGEudGV4dCkKCQkJcGFzczEgPSBiWydmaXJzdF9uYW1lJ10rJzEyMycKCSAJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgIAoJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrd1snYWNjZXNzX3Rva2VuJ10pCgkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQlwcmludCAnXHgxY1wwMzNbMTs5M21b4pyWXSBceDFjXDAzM1sxOzkxbUNoZWNrcG9pbnQnCgkJCQlwcmludCAnXHgxY1wwMzNbMTs5MW1b4py0XSBceDFjXDAzM1sxOzkzbU5hbWUgXHgxY1wwMzNbMTs5NG0gICAgOiBceDFjXDAzM1sxOzk3bScgKyBjWyduYW1lJ10KCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinrldIFx4MWNcMDMzWzE7OTNtSUQgXHgxY1wwMzNbMTs5NG0gICAgICA6IFx4MWNcMDMzWzE7OTdtJyArIHVzZXIKCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinrldIFx4MWNcMDMzWzE7OTNtUGFzc3dvcmQgXHgxY1wwMzNbMTs5NG06IFx4MWNcMDMzWzE7OTdtJyArIHBhc3MxICsgJ1xuJwoJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCWNlay53cml0ZSgiSUQ6IiArdXNlcisgIiBQdzoiICtwYXNzMSsiXG4iKQoJCQkJY2VrLmNsb3NlKCkKCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJcGFzczIgPSBiWydsYXN0X25hbWUnXSsnMTIzJwoJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKICAgICAgIAkKCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrd1snYWNjZXNzX3Rva2VuJ10pCgkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KclF0gXHgxY1wwMzNbMTs5Mm1CZXJoYXNpbCcKCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KctF0gXHgxY1wwMzNbMTs5N21OYW1lIFx4MWNcMDMzWzE7OTFtICAgIDogXHgxY1wwMzNbMTs5Mm0nICsgY1snbmFtZSddCgkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkzbVvinrldIFx4MWNcMDMzWzE7OTdtSUQgXHgxY1wwMzNbMTs5MW0gICAgICA6IFx4MWNcMDMzWzE7OTJtJyArIHVzZXIKCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KeuV0gXHgxY1wwMzNbMTs5N21QYXNzd29yZCBceDFjXDAzM1sxOzkxbTogXHgxY1wwMzNbMTs5Mm0nICsgcGFzczIgKyAnXG4nCgkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMikKCQkJCWVsc2U6CgkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CgkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkzbVvinJZdIFx4MWNcMDMzWzE7OTFtQ2hlY2twb2ludCcKCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTFtW+KctF0gXHgxY1wwMzNbMTs5M21OYW1lIFx4MWNcMDMzWzE7OTRtICAgIDogXHgxY1wwMzNbMTs5N20nICsgY1snbmFtZSddCgkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinrldIFx4MWNcMDMzWzE7OTNtSUQgXHgxY1wwMzNbMTs5NG0gICAgICA6IFx4MWNcMDMzWzE7OTdtJyArIHVzZXIKCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTFtW+KeuV0gXHgxY1wwMzNbMTs5M21QYXNzd29yZCBceDFjXDAzM1sxOzk0bTogXHgxY1wwMzNbMTs5N20nICsgcGFzczIgKyAnXG4nCgkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9zdXBlcl9jcC50eHQiLCAiYSIpCgkJCQkJCQkJCWNlay53cml0ZSgiSUQ6IiArdXNlcisgIiBQdzoiICtwYXNzMisiXG4iKQoJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMikKCQkJCQkJCWVsc2U6CgkJCQkJCQkJCXBhc3MzID0gYlsnZmlyc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCQkJCQlkYXRhID11cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MzKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgIAoJCQkJCQkJCSAgIAkJIHggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3dbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkgCSB6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQkJCQkJCQkgcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KclF0gXHgxY1wwMzNbMTs5Mm1CZXJoYXNpbCcKCQkJCQkJCQkJCSBwcmludCAnXHgxY1wwMzNbMTs5M21b4py0XSBceDFjXDAzM1sxOzk3bU5hbWUgXHgxY1wwMzNbMTs5MW0gICAgOiBceDFjXDAzM1sxOzkybScgKyBjWyduYW1lJ10KCQkJCQkJCQkJCSBwcmludCAnXHgxY1wwMzNbMTs5M21b4p65XSBceDFjXDAzM1sxOzk3bUlEIFx4MWNcMDMzWzE7OTFtICAgICAgOiBceDFjXDAzM1sxOzkybScgKyB1c2VyCgkJCQkJCQkJCQkgcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KeuV0gXHgxY1wwMzNbMTs5N21QYXNzd29yZCBceDFjXDAzM1sxOzkxbTogXHgxY1wwMzNbMTs5Mm0nICsgcGFzczMgKyAnXG4nCgkJCQkJCQkJCQkgb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB3WydlcnJvcl9tc2cnXToKCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+Kcll0gXHgxY1wwMzNbMTs5MW1DaGVja3BvaW50JwoJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5MW1b4py0XSBceDFjXDAzM1sxOzkzbU5hbWUgXHgxY1wwMzNbMTs5NG0gICAgOiBceDFjXDAzM1sxOzk3bScgKyBjWyduYW1lJ10KCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTFtW+KeuV0gXHgxY1wwMzNbMTs5M21JRCBceDFjXDAzM1sxOzk0bSAgICAgIDogXHgxY1wwMzNbMTs5N20nICsgdXNlcgoJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5MW1b4p65XSBceDFjXDAzM1sxOzkzbVBhc3N3b3JkIFx4MWNcMDMzWzE7OTRtOiBceDFjXDAzM1sxOzk3bScgKyBwYXNzMyArICdcbicKCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJY2VrLndyaXRlKCJJRDoiICt1c2VyKyAiIFB3OiIgK3Bhc3MzKyJcbiIpCgkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCXBhc3M0ID0gJ3NheWFuZycKCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAKCQkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3dbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KclF0gXHgxY1wwMzNbMTs5Mm1CZXJoYXNpbCcKCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkzbVvinLRdIFx4MWNcMDMzWzE7OTdtTmFtZSBceDFjXDAzM1sxOzkxbSAgICA6IFx4MWNcMDMzWzE7OTJtJyArIGNbJ25hbWUnXQoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KeuV0gXHgxY1wwMzNbMTs5N21JRCBceDFjXDAzM1sxOzkxbSAgICAgIDogXHgxY1wwMzNbMTs5Mm0nICsgdXNlcgoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KeuV0gXHgxY1wwMzNbMTs5N21QYXNzd29yZCBceDFjXDAzM1sxOzkxbTogXHgxY1wwMzNbMTs5Mm0nICsgcGFzczQgKyAnXG4nCgkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CgkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+Kcll0gXHgxY1wwMzNbMTs5MW1DaGVja3BvaW50JwoJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinLRdIFx4MWNcMDMzWzE7OTNtTmFtZSBceDFjXDAzM1sxOzk0bSAgICA6IFx4MWNcMDMzWzE7OTdtJyArIGNbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinrldIFx4MWNcMDMzWzE7OTNtSUQgXHgxY1wwMzNbMTs5NG0gICAgICA6IFx4MWNcMDMzWzE7OTdtJyArIHVzZXIKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5MW1b4p65XSBceDFjXDAzM1sxOzkzbVBhc3N3b3JkIFx4MWNcMDMzWzE7OTRtOiBceDFjXDAzM1sxOzk3bScgKyBwYXNzNCArICdcbicKCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCWNlay53cml0ZSgiSUQ6IiArdXNlcisgIiBQdzoiICtwYXNzNCsiXG4iKQoJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCXBhc3M1ID0gJ2JhbmdzYXQnCgkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgIAoJCQkJCQkJCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49Iit3WydhY2Nlc3NfdG9rZW4nXSkKCQkJCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5M21b4pyUXSBceDFjXDAzM1sxOzkybUJlcmhhc2lsJwoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5M21b4py0XSBceDFjXDAzM1sxOzk3bU5hbWUgXHgxY1wwMzNbMTs5MW0gICAgOiBceDFjXDAzM1sxOzkybScgKyBjWyduYW1lJ10KCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KeuV0gXHgxY1wwMzNbMTs5N21JRCBceDFjXDAzM1sxOzkxbSAgICAgIDogXHgxY1wwMzNbMTs5Mm0nICsgdXNlcgoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5M21b4p65XSBceDFjXDAzM1sxOzk3bVBhc3N3b3JkIFx4MWNcMDMzWzE7OTFtOiBceDFjXDAzM1sxOzkybScgKyBwYXNzNSArICdcbicKCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB3WydlcnJvcl9tc2cnXToKCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkzbVvinJZdIFx4MWNcMDMzWzE7OTFtQ2hlY2twb2ludCcKCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinLRdIFx4MWNcMDMzWzE7OTNtTmFtZSBceDFjXDAzM1sxOzk0bSAgICA6IFx4MWNcMDMzWzE7OTdtJyArIGNbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTFtW+KeuV0gXHgxY1wwMzNbMTs5M21JRCBceDFjXDAzM1sxOzk0bSAgICAgIDogXHgxY1wwMzNbMTs5N20nICsgdXNlcgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTFtW+KeuV0gXHgxY1wwMzNbMTs5M21QYXNzd29yZCBceDFjXDAzM1sxOzk0bTogXHgxY1wwMzNbMTs5N20nICsgcGFzczUgKyAnXG4nCgkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKCJJRDoiICt1c2VyKyAiIFB3OiIgK3Bhc3M1KyJcbiIpCgkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQlwYXNzNiA9ICdrb250b2wnCgkJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgogICAgICAgIAoJCQkJCQkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3dbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5M21b4pyUXSBceDFjXDAzM1sxOzkybUJlcmhhc2lsJwoJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkzbVvinLRdIFx4MWNcMDMzWzE7OTdtTmFtZSBceDFjXDAzM1sxOzkxbSAgICA6IFx4MWNcMDMzWzE7OTJtJyArIGNbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkzbVvinrldIFx4MWNcMDMzWzE7OTdtSUQgXHgxY1wwMzNbMTs5MW0gICAgICA6IFx4MWNcMDMzWzE7OTJtJyArIHVzZXIKCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5M21b4p65XSBceDFjXDAzM1sxOzk3bVBhc3N3b3JkIFx4MWNcMDMzWzE7OTFtOiBceDFjXDAzM1sxOzkybScgKyBwYXNzNiArICdcbicKCQkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB3WydlcnJvcl9tc2cnXToKCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+Kcll0gXHgxY1wwMzNbMTs5MW1DaGVja3BvaW50JwoJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5MW1b4py0XSBceDFjXDAzM1sxOzkzbU5hbWUgXHgxY1wwMzNbMTs5NG0gICAgOiBceDFjXDAzM1sxOzk3bScgKyBjWyduYW1lJ10KCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTFtW+KeuV0gXHgxY1wwMzNbMTs5M21JRCBceDFjXDAzM1sxOzk0bSAgICAgIDogXHgxY1wwMzNbMTs5N20nICsgdXNlcgoJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5MW1b4p65XSBceDFjXDAzM1sxOzkzbVBhc3N3b3JkIFx4MWNcMDMzWzE7OTRtOiBceDFjXDAzM1sxOzk3bScgKyBwYXNzNiArICdcbicKCQkJCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKCJJRDoiICt1c2VyKyAiIFB3OiIgK3Bhc3M2KyJcbiIpCgkJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQkJCXBhc3M3ID0gJ2luZG9uZXNpYScKCQkJCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAKCQkJCQkJCQkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3dbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KclF0gXHgxY1wwMzNbMTs5Mm1CZXJoYXNpbCcKCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkzbVvinLRdIFx4MWNcMDMzWzE7OTdtTmFtZSBceDFjXDAzM1sxOzkxbSAgICA6IFx4MWNcMDMzWzE7OTJtJyArIGNbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KeuV0gXHgxY1wwMzNbMTs5N21JRCBceDFjXDAzM1sxOzkxbSAgIDogXHgxY1wwMzNbMTs5Mm0nICsgdXNlcgoJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+KeuV0gXHgxY1wwMzNbMTs5N21QYXNzd29yZCBceDFjXDAzM1sxOzkxbTogXHgxY1wwMzNbMTs5Mm0nICsgcGFzczcgKyAnXG4nCgkJCQkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gd1snZXJyb3JfbXNnJ106CgkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWNcMDMzWzE7OTNtW+Kcll0gXHgxY1wwMzNbMTs5MW1DaGVja3BvaW50JwoJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinLRdIFx4MWNcMDMzWzE7OTNtTmFtZSBceDFjXDAzM1sxOzk0bSAgICA6IFx4MWNcMDMzWzE7OTdtJyArIGNbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFjXDAzM1sxOzkxbVvinrldIFx4MWNcMDMzWzE7OTNtSUQgXHgxY1wwMzNbMTs5NG0gICAgICA6IFx4MWNcMDMzWzE7OTdtJyArIHVzZXIKCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxY1wwMzNbMTs5MW1b4p65XSBceDFjXDAzM1sxOzkzbVBhc3N3b3JkIFx4MWNcMDMzWzE7OTRtOiBceDFjXDAzM1sxOzk3bScgKyBwYXNzNyArICdcbicKCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSgiSUQ6IiArdXNlcisgIiBQdzoiICtwYXNzNysiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCQkJCQoJCQkJCQkJCQkJCQkJCQkKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAnXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkJwoJcHJpbnQiXDAzM1sxOzkxbVRvdGFsIE9LL1x4MWJbMTs5M21DUCBcMDMzWzE7OTFtOiBcMDMzWzE7OTFtIitzdHIobGVuKG9rcykpKyJcMDMzWzE7OTNtL1wwMzNbMTs5Nm0iK3N0cihsZW4oY2VrcG9pbnQpKQoJcHJpbnQgCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkzbVtcMDMzWzE7OTFtQmFja1wwMzNbMTs5M21dIikKCW9zLnN5c3RlbSgnY2xlYXInKQoJCmRlZiBicnV0ZSgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICB0cnk6CiAgICAgICAgdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQogICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgcHJpbnQgJ1wwMzNbMTs5N21bIV0gVG9rZW4gbm90IGZvdW5kJwogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCiAgICAgICAgdGltZS5zbGVlcCgwLjUpCiAgICAgICAgbG9naW4oKQogICAgZWxzZToKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludCBsb2dvCiAgICAgICAgcHJpbnQKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVtYWlsID0gcmF3X2lucHV0KCdcMDMzWzE7OTNtWytdIFwwMzNbMTs5N21JRFwwMzNbMTs5N20vXDAzM1sxOzk3bUVtYWlsIFwwMzNbMTs5N21UYXJnZXQgXDAzM1sxOzk3bTpcMDMzWzE7OTdtICcpCiAgICAgICAgICAgIHBhc3N3ID0gcmF3X2lucHV0KCdcMDMzWzE7OTNtWytdIFwwMzNbMTs5N21Xb3JkbGlzdCBcMDMzWzE7OTdtZXh0KHdvcmQudHh0KSBcMDMzWzE7OTdtOiBcMDMzWzE7OTdtJykKICAgICAgICAgICAgdG90YWwgPSBvcGVuKHBhc3N3LCAncicpCiAgICAgICAgICAgIHRvdGFsID0gdG90YWwucmVhZGxpbmVzKCkKICAgICAgICAgICAgcHJpbnQgCiAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTNtW1wwMzNbMTs5N21ceGUyXHg5Y1x4OTNcMDMzWzE7OTNtXSBcMDMzWzE7OTdtVGFyZ2V0IFwwMzNbMTs5N206XDAzM1sxOzk3bSAnICsgZW1haWwKICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5M21bK10gXDAzM1sxOzk3bVRvdGFsXDAzM1sxOzk3bSAnICsgc3RyKGxlbih0b3RhbCkpICsgJyBcMDMzWzE7OTdtUGFzc3dvcmQnCiAgICAgICAgICAgIGphbGFuKCdcMDMzWzE7OTNtW1x4ZTJceDljXHhiYV0gXDAzM1sxOzk3bVBsZWFzZSB3YWl0IFwwMzNbMTs5N20uLi4nKQogICAgICAgICAgICBzYW5kaSA9IG9wZW4ocGFzc3csICdyJykKICAgICAgICAgICAgZm9yIHB3IGluIHNhbmRpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHB3ID0gcHcucmVwbGFjZSgnXG4nLCAnJykKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdcclwwMzNbMTs5M21bXDAzM1sxOzk3bVx4ZTJceDljXHhiOFwwMzNbMTs5M21dIFwwMzNbMTs5N21UcnkgXDAzM1sxOzk3bScgKyBwdykKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGVtYWlsICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHB3ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQogICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CiAgICAgICAgICAgICAgICAgICAgICAgIGRhcGF0ID0gb3BlbignQnJ1dGUudHh0JywgJ3cnKQogICAgICAgICAgICAgICAgICAgICAgICBkYXBhdC53cml0ZShlbWFpbCArICcgfCAnICsgcHcgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICBkYXBhdC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblwwMzNbMTs5N21bK10gXDAzM1sxOzk3bUZvdW5kZWQuJwogICAgICAgICAgICAgICAgICAgICAgICBwcmludCA1MiAqICdcMDMzWzE7OTdtXHhlMlx4OTVceDkwJwogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzkzbVtceGUyXHg5ZVx4YjldIFwwMzNbMTs5N21Vc2VybmFtZSBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJyArIGVtYWlsCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTNtW1x4ZTJceDllXHhiOV0gXDAzM1sxOzk3bVBhc3N3b3JkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnICsgcHcKICAgICAgICAgICAgICAgICAgICAgICAga2VsdWFyKCkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gbXBzaFsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtzID0gb3BlbignQnJ1dGVjZWtwb2ludC50eHQnLCAndycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtzLndyaXRlKGVtYWlsICsgJyB8ICcgKyBwdyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtzLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblwwMzNbMTs5M21bK10gXDAzM1sxOzkxbUZvdW5kZWQuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzkxbVshXSBcMDMzWzE7OTFtQWNjb3VudCBNYXliZSBDaGVja3BvaW50JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5M21bXHhlMlx4OWVceGI5XSBcMDMzWzE7OTdtVXNlcm5hbWUgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcgKyBlbWFpbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1wwMzNbMTs5M21bXHhlMlx4OWVceGI5XSBcMDMzWzE7OTdtUGFzc3dvcmQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcgKyBwdwogICAgICAgICAgICAgICAgICAgICAgICAgICAga2VsdWFyKCkKICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk3bVshXSBDb25uZWN0aW9uIEVycm9yJwogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKCiAgICAgICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTdtWyFdIEZpbGUgbm90IGZvdW5kLi4uJwogICAgICAgICAgICBwcmludCAiIiJcblwwMzNbMTs5N21bIV0gXDAzM1sxOzk3bUxvb2tzIGxpa2UgeW91IGRvbid0IGhhdmUgYSB3b3JkbGlzdCIiIgogICAgICAgICAgICBzdXBlcigpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgoJbG9naW4oKQo='))
